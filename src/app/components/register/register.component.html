<header class="header">
  <p>Logo</p>
  <div class="buttons">
    <button>Iniciar sesión</button>
    <div class="line"></div>
    <button>Español</button>
    <div class="line"></div>
    <button>Portugués</button>
  </div>
</header>
<main class="wrapper">
  <div *ngIf="currentStep === 1">
    <div class="question">¿ Con cuál perfil te quieres registrar ?</div>
    <div class="container-buttons">
      <button class="question-button" (click)="setRoleId(1)">
        Deportista
      </button>
      <button class="question-button" (click)="setRoleId(2)">
        Proveedor
      </button>
    </div>
  </div>
  <div *ngIf="currentStep == 2">
    <div class="question">Registrarse</div>
    <div class="container-inputs">
      <div class="form-group">
        <label class="label-text" for="input1">Email</label>
        <input type="text" name="email" placeholder="Ingrese su email" [formControl]="email"
          (change)="changeValueForm($event)">
        <div class="error-container" *ngIf="email.invalid && (email.dirty || email.touched)">
          <span class="error" *ngIf="email.errors?.['required']">El email es requerido</span>
          <span class="error" *ngIf="email.errors?.['email']">El email no es válido</span>
        </div>
      </div>

      <div class="form-group">
        <label class="label-text" for="input2">Contraseña</label>
        <input [formControl]="password" type="password" name="password" placeholder="Ingrese su contraseña"
          (change)="changeValueForm($event)">
        <div class="error-container" *ngIf="password.invalid && (password.dirty || password.touched)">
          <span class="error" *ngIf="password.errors?.['required']">La contraseña es requerido</span>
          <span class="error" *ngIf="password.errors?.['minlength']">La contraseña debe ser mayor a 6 caracteres
          </span>
          <span class="error" *ngIf="password.errors?.['maxlength']">La contraseña debe ser menor a 10
            caracteres</span>
          <span class="error" *ngIf="password.errors?.['invalidPassword']">La contraseña debe contener letras y
            números</span>
          <span class="error" *ngIf="password.errors?.['invalidConfirmPassword']">Las contraseñas no
            coinciden</span>
        </div>
  
      </div>

      <div class="form-group">
        <label class="label-text" for="input3">Confirmación contraseña</label>
        <input [formControl]="confirmPassword" type="password" name="confirmPassword"
          placeholder="Ingrese nuevamente su contraseña" (change)="changeValueForm($event)">
        <div class="error-container"
          *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)">
          <span class="error" *ngIf="confirmPassword.errors?.['required']">El confirmación contraseña es
            requerido</span>
          <span class="error" *ngIf="confirmPassword.errors?.['invalidConfirmPassword']">Las contraseñas no
            coinciden</span>
        </div>
      </div>
    </div>
  </div>


  <div *ngIf="currentStep === 3">
    <div class="question">Registrarse</div>
    <div class="container-inputs">
      <div class="form-group">
        <label class="label-text" for="input1">Nombre</label>
        <input [formControl]="name" (change)="changeValueForm($event)" type="text" name="name"
          placeholder="Ingrese su nombre" (change)="changeValueForm($event)">
        <div class="error-container" *ngIf="name.invalid && (name.dirty || name.touched)">
          <span class="error" *ngIf="name.errors?.['required']">El nombre es requerido</span>
        </div>
      </div>
      <div class="form-group">
        <label class="label-text" for="input2">Apellido</label>
        <input [formControl]="lastname" type="text" name="lastname" placeholder="Ingrese su apellido"
          (change)="changeValueForm($event)">
        <div class="error-container" *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)">
          <span class="error" *ngIf="lastname.errors?.['required']">El nombre es requerido</span>
          <span class="error" *ngIf="lastname.errors?.['minlength']">Debe ser mayor de 6</span>
          <span class="error" *ngIf="lastname.errors?.['maxlength']">Debe ser menor a 50 caracteres</span>
        </div>
      </div>
      <div class="form-group">
        <label class="label-text" for="input3">Tipo de identificación</label>
        <select name="document_type" [formControl]="document_type" (change)="changeValueForm($event)">
          <option value="" disabled selected hidden>Seleccione su tipo de identificación</option>
          <option value="CC">Cédula</option>
          <option value="PP">Pasaporte</option>
        </select>
        <div class="error-container" *ngIf="document_type.invalid && (document_type.dirty || document_type.touched)">
          <span class="error" *ngIf="document_type.errors?.['required']">El tipo de identificación es requerido</span>
        </div>
      </div>
      <div class="form-group">
        <label class="label-text" for="input2">Número de identificación</label>
        <input [formControl]="document_number" type="text" name="document_number"
          placeholder="Ingrese su número de identificación" (change)="changeValueForm($event)">
        <div class="error-container"
          *ngIf="document_number.invalid && (document_number.dirty || document_number.touched)">
          <span class="error" *ngIf="document_number.errors?.['required']">El nombre es requerido</span>
          <span class="error" *ngIf="document_number.errors?.['minlength']">Debe ser mayor de 6</span>
          <span class="error" *ngIf="document_number.errors?.['maxlength']">Debe ser menor a 20 caracteres</span>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="currentStep === 4">
    <div class="question">Registrarse</div>
    <div class="container-inputs">
      <div class="form-group" *ngIf="role_id == 1">
        <label class="label-text" for="input3">País de nacimiento</label>
        <select [formControl]="birth_country_id" type="text" name="birth_country_id" (change)="changeValueForm($event)">
          <option value="" disabled selected hidden>Selecciona una opción</option>
          <option *ngFor="let country of countries" [value]="country.id">{{ country.name }}</option>
        </select>
        <div class="error-container"
          *ngIf="birth_country_id.invalid && (birth_country_id.dirty || birth_country_id.touched)">
          <span class="error" *ngIf="birth_country_id.errors?.['required']">Este campos es requerido</span>
        </div>
      </div>

      <div class="form-group" *ngIf="role_id == 1">
        <label class="label-text" for="input3">Ciudad de nacimiento</label>
        <select [formControl]="birth_city_id" type="text" name="birth_city_id" (change)="changeValueForm($event)">
          <option value="" disabled selected hidden>Selecciona una opción</option>
          <option *ngFor="let city of citiesBirth" [value]="city.id">{{ city.name }}</option>

        </select>
        <div [formControl]="birth_city_id" class="error-container"
          *ngIf="birth_city_id.invalid && (birth_city_id.dirty || birth_city_id.touched)">
          <span class="error" *ngIf="birth_city_id.errors?.['required']">Este campos es requerido</span>
        </div>
      </div>

      <div class="form-group">
        <label class="label-text" for="input3">País de residencia</label>
        <select ngDefaultControl [formControl]="residence_country_id" type="text" name="residence_country_id"
          (change)="changeValueForm($event)">
          <option value="" disabled selected hidden>Seleccione país de residencia</option>
          <option *ngFor="let country of countries" [value]="country.id">{{ country.name }}</option>
        </select>
        <div [formControl]="residence_country_id" class="error-container"
          *ngIf="residence_country_id?.invalid && (residence_country_id.dirty || residence_country_id.touched)">
          <span class="error" *ngIf="residence_country_id?.errors?.['required']">Este campos es requerido</span>
        </div>
      </div>
      <div class="form-group">
        <label class="label-text" for="input3">Ciudad de residencia</label>
        <select [formControl]="residence_city_id" type="text" name="residence_city_id"
          (change)="changeValueForm($event)">
          <option value="" disabled selected hidden>Selecciona ciudad de residencia</option>
          <option *ngFor="let city of citiesResidence" [value]="city.country_id">{{ city.name }}</option>
        </select>
        <div [formControl]="residence_city_id" class="error-container"
          *ngIf="residence_city_id.invalid && (residence_city_id.dirty || residence_city_id.touched)">
          <span class="error" *ngIf="residence_city_id.errors?.['required']">Este campos es requerido</span>
        </div>
      </div>
    </div>
  </div>

  <div class="container-buttons">
    <button class="secondary-button" (click)="backStep()">
      Anterior
    </button>
    <button class="primary-button" (click)="nextStep()">
      {{ currentStep === 4 ? 'Registrar' : 'Continuar' }}
    </button>
  </div>

</main>